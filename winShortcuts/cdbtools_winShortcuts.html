
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Erweiterte CDB-Tools Umgebung &#8212; CDB-Tools (3.0)</title>
    <link rel="stylesheet" href="../_static/cdb-tools.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="WEB-Links" href="cdblinks_winShortcuts.html" />
    <link rel="prev" title="Gewöhnliche CDB Umgebung" href="cdb_winShortcuts.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = '../';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Stichwortverzeichnis"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="cdblinks_winShortcuts.html" title="WEB-Links"
             accesskey="N">weiter</a> |</li>
        <li class="right" >
          <a href="cdb_winShortcuts.html" title="Gewöhnliche CDB Umgebung"
             accesskey="P">zurück</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CDB-Tools (3.0)</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">winShortcuts</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Erweiterte CDB-Tools Umgebung</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="erweiterte-cdb-tools-umgebung">
<span id="cdbtools-winshortcuts"></span><h1>Erweiterte CDB-Tools Umgebung<a class="headerlink" href="#erweiterte-cdb-tools-umgebung" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="upkeep-bat">
<span id="id1"></span><h2><code class="docutils literal notranslate"><span class="pre">upkeep.bat</span></code><a class="headerlink" href="#upkeep-bat" title="Link zu dieser Überschrift">¶</a></h2>
<p>Ein Skript für den <a class="reference internal" href="../cdbtools_dev/cdbtools_repo.html#cdbtools-repo"><span class="std std-ref">Build</span></a> &amp; <a class="reference internal" href="../cdbtools_dev/cdbtools_repo.html#update-cdbtools"><span class="std std-ref">Update</span></a> der CDB-Tools, das nacheinander die folgenden Operationen
anbietet:</p>
<ol class="arabic simple">
<li><p>bootstrap       <a class="reference internal" href="../cdbtools_dev/cdbtools_repo.html#cdbtools-bootstrap"><span class="std std-ref">(nur online möglich)</span></a></p></li>
<li><p>download        <a class="reference internal" href="../cdbtools_dev/cdbtools_repo.html#cdbtools-bootstrap"><span class="std std-ref">(nur online möglich)</span></a></p></li>
<li><p>install         <a class="reference internal" href="../cdbtools_dev/cdbtools_repo.html#cdbtools-build"><span class="std std-ref">(auch offline möglich)</span></a></p></li>
<li><p>update launcher <a class="reference internal" href="../cdbtools_dev/cdbtools_repo.html#cdbtools-build"><span class="std std-ref">(auch offline möglich)</span></a></p></li>
<li><p>ZIP CDB-Tools   <a class="reference internal" href="../cdbtools_dev/cdbtools_repo.html#cdbtools-build"><span class="std std-ref">(auch offline möglich)</span></a></p></li>
</ol>
</div>
<div class="section" id="tools-sh-bat">
<span id="id2"></span><h2><code class="docutils literal notranslate"><span class="pre">tools-sh.bat</span></code><a class="headerlink" href="#tools-sh-bat" title="Link zu dieser Überschrift">¶</a></h2>
<p>Startet eine Shell mit der erweiterten Laufzeitumgebung der CDB-Tools.  Auch zu
erkennen an dem Prompt <code class="docutils literal notranslate"><span class="pre">[CDBTools]</span></code> und nicht zu verwechseln mit einer
gewöhnlichen CDB Umgebung mit dem Prompt <code class="docutils literal notranslate"><span class="pre">[cdbsrv-11.3.10:cust_dev]</span></code> (oder
ähnlich, s.a. <a class="reference internal" href="../cdbtools_dev/cdbtools_rte.html#rte-prompt"><span class="std std-ref">Konsolen Prompt der Umgebungen</span></a>).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>------------------------------------------------------------
CDB-Tools environment
------------------------------------------------------------

CADDOK_RUNTIME: C:\share\contact\cdbsrv-11.3.10
CADDOK_BASE:    C:\share\cdb_cust_dev
CADDOK_DEFAULT: cust_dev@C:\share\cdb_cust_dev
HOME:           C:\Users\user

Microsoft Windows [Version 6.3.9600]
(c) 2013 Microsoft Corporation. Alle Rechte vorbehalten.
Clink v0.4.8 [git:d565ad] Copyright (c) 2012-2016 Martin Ridgers
http://mridgers.github.io/clink

C:\share\cdb_cust_dev
[CDBTools]$
</pre></div>
</div>
</div>
<div class="section" id="tools-python-bat">
<span id="id3"></span><h2><code class="docutils literal notranslate"><span class="pre">tools-python.bat</span></code><a class="headerlink" href="#tools-python-bat" title="Link zu dieser Überschrift">¶</a></h2>
<p>Startet den Python-Interpreter von CDB in der CDB-Tools Umgebung. Als <a class="reference external" href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a>
kommt <a class="reference external" href="https://github.com/jonathanslenders/ptpython">ptpython</a> zum Einsatz.  Hier ein Beispiel, bei dem zu erkennen ist, dass
das <code class="docutils literal notranslate"><span class="pre">lxml</span></code> Paket aus der CDB-Tools Umgebung bezogen wird:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>------------------------------------------------------------
CDB-Tools environment
------------------------------------------------------------

  CADDOK_RUNTIME: C:\share\contact\cdbsrv-11.3.10
  CADDOK_BASE:    C:\share\cdb_cust_dev
  CADDOK_DEFAULT: cust_dev@C:\share\cdb_cust_dev
  HOME:           C:\Users\user

&gt;&gt;&gt; import lxml
&gt;&gt;&gt; lxml
&lt;module &#39;lxml&#39; from &#39;C:\share\cdb-tools\py27\Python27\site-packages\lxml\__init__.pyc&#39;&gt;

&gt;&gt;&gt; import cust.plm
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
ImportError: No module named cust.plm

No module named cust.plm
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hinweis</p>
<p>Der Python Interpreter (<code class="docutils literal notranslate"><span class="pre">python.exe</span></code>) baut kein CDB RTE auf, es stehen nur
die Python Pakete aus CDB (als auch aus den CDB-Tools) zur Verfügung.  Python
Programme, die im Kontext der CDB-Instanz arbeiten müssen immer mit dem
<code class="docutils literal notranslate"><span class="pre">powerscript.exe</span></code> Interpreter gestartet werden.</p>
</div>
</div>
<div class="section" id="tools-studio-bat">
<h2><code class="docutils literal notranslate"><span class="pre">tools-studio.bat</span></code><a class="headerlink" href="#tools-studio-bat" title="Link zu dieser Überschrift">¶</a></h2>
<p>Startet das CDB PowerScript Studio (aka. eclipse) von CDB in der CDB-Tools
Umgebung.</p>
</div>
<div class="section" id="tools-powerscript-bat">
<span id="id4"></span><h2><code class="docutils literal notranslate"><span class="pre">tools-powerscript.bat</span></code><a class="headerlink" href="#tools-powerscript-bat" title="Link zu dieser Überschrift">¶</a></h2>
<p>Startet den PowerScript Interpreter von CDB in der CDB-Tools Umgebung. Als <a class="reference external" href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a>
kommt <a class="reference external" href="https://github.com/jonathanslenders/ptpython">ptpython</a> zum Einsatz.  Hier ein Beispiel, bei dem zu erkennen ist, dass
das <code class="docutils literal notranslate"><span class="pre">lxml</span></code> Paket aus der CDB-Tools Umgebung bezogen wird.  Da es sich im
PowerScript handelt können auch die Pakete aus der CDB-Instanz importiert
werden:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>------------------------------------------------------------
CDB-Tools environment
------------------------------------------------------------

  CADDOK_RUNTIME: C:\share\contact\cdbsrv-11.3.10
  CADDOK_BASE:    C:\share\cdb_cust_dev
  CADDOK_DEFAULT: cust_dev@C:\share\cdb_cust_dev
  HOME:           C:\Users\user

&gt;&gt;&gt; import lxml
&gt;&gt;&gt; lxml
&lt;module &#39;lxml&#39; from &#39;C:\share\cdb-tools\py27\Python27\site-packages\lxml\__init__.pyc&#39;&gt;

&gt;&gt;&gt; import cust.plm
&gt;&gt;&gt; cust.plm
&lt;module &#39;cust.plm&#39; from &#39;c:\share\cdb_cust_dev\cust.plm\cust\plm\__init__.pyc&#39;&gt;
</pre></div>
</div>
</div>
<div class="section" id="tools-localhost-start-bat">
<span id="id5"></span><h2><code class="docutils literal notranslate"><span class="pre">tools-localhost-START.bat</span></code><a class="headerlink" href="#tools-localhost-start-bat" title="Link zu dieser Überschrift">¶</a></h2>
<p>Eignet sich für remote Debug-Zwecke in einer Entwickler Installation (eine
einfache Alternative zum <a class="reference external" href="http://www.pydev.org/manual_adv_remote_debugger.html">PyDev Remote Debugger</a>).  Es wird der <em>lokale</em> CDB
Server und die für den <em>localhost</em> konfigurierten Dienste in einer CDB-Tools
Umgebung gestartet (vergleiche <a class="reference internal" href="cdb_winShortcuts.html#cdb-localhost-start-bat"><span class="std std-ref">cdb-localhost-START.bat</span></a>).  Gleichzeitig
startet in der Konsole ein <em>Listener</em>, der auf Breakpoints lauscht.  Einen
Breakpoint setzt man wie folgt:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dm.cdbtools</span> <span class="kn">import</span> <span class="n">BP</span>
<span class="n">BP</span><span class="p">()</span>
</pre></div>
</div>
<p>Wird der Breakpoint erreicht, so öffnet der Listener eine Py-Debugger Sitzung
(siehe <a class="reference external" href="https://docs.python.org/3/library/pdb.html#debugger-commands">pdb</a>).  Setzt man einen neuen Breakpoint in den Sourcen, so muss nicht
immer der <code class="docutils literal notranslate"><span class="pre">CDBSVCD</span></code> Prozess neu gestartet werden.  So reicht es beispielsweise
aus, den PC-Client neu zu starten wenn man lediglich die Sourcen eines
<code class="docutils literal notranslate"><span class="pre">cdbsrv</span></code> Prozess debuggen will (klassische UserExit Programmierung wie im
PowerScript Studio).</p>
<p>Vorteil des remote Debugging ist, dass man hiermit jeden Server-Prozess debuggen
kann und das auch alle Dienste laufen.  Im Powerscript-Studio läuft
normalerweise nur der cdbsrv Prozess im Debug Modus und man vermisst
evtl. Services die beispielsweise die eLink Anwendungen bereit stellen.</p>
<p>Die Kommunikation zwischen dem Debugger-Client und dem Breakpoint erfolgt über
IP sockets, weshalb man das auch remote Debugging nennen kann.  Prinzipell ist
es auch möglich Server Prozesse auf entfernten Hosts zu debuggen, jedoch sollte
man in einer verteilten Umgebung darauf achten, dass die Breakpoints nicht von
anderen Benutzern oder Prozessen erreicht werden (können). In der Regel wird man
diese Art des Debugging nur in <em>lokalen</em> Entwickler Umgebungen nutzen.  Dort
kann es dann aber u.U. auch eine große Hilfe sein, wo man bisher nur die
Möglichkeit hatte Logfiles zu lesen.</p>
</div>
<div class="section" id="cdbtools-activate-bat">
<span id="id6"></span><h2><code class="docutils literal notranslate"><span class="pre">cdbtools-activate.bat</span></code><a class="headerlink" href="#cdbtools-activate-bat" title="Link zu dieser Überschrift">¶</a></h2>
<p>Mit dem Scripten:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">win_bin/cdbtools-activate.bat</span></code> und</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">win_bin/cdbtools-deactivate.bat</span></code></p></li>
</ul>
<p>kann die CDB-Tools Umgebung aktiviert resp. deaktiviert werden.  Will man nur
ein Kommando aus den CDB-Tools ausführen, nicht aber die ganze Umgebung in der
Shell aktiveren, so kann man das Skript auch als Wrapper nutzen.  Hier ein
Beispiel für den Aufruf von Pylint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">share</span>\<span class="n">cdb</span><span class="o">-</span><span class="n">tools</span>\<span class="n">win_bin</span>\<span class="n">cdbtools</span><span class="o">-</span><span class="n">activate</span><span class="o">.</span><span class="n">bat</span> <span class="n">pylint</span>
</pre></div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/darmarIT_logo_128.png" alt="Logo"/>
            </a></p>
  

  <h3>Project Links</h3>
  <ul>
    <li><a href="https://github.com/return42/cdb-tools">Source</a>
  
    <li><a href="http://return42.github.io/handsOn/slides/git">Get git started</a>
  
    <li><a href="slides/cdb_comp/index.html">CDB Entwicklung</a>
  
    <li><a href="/todo.html">ToDo</a>
  </ul><h3>Navigation</h3>
<ul>
  <li><a href="../index.html">Overview</a>
    <ul>
      <li><a href="index.html">winShortcuts</a>
        <ul>
          <li>Previous: <a href="cdb_winShortcuts.html" title="vorheriges Kapitel">Gewöhnliche CDB Umgebung</a>
          <li>Next: <a href="cdblinks_winShortcuts.html" title="nächstes Kapitel">WEB-Links</a></ul>
      </li>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Schnellsuche</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Los" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020 Markus Heiser.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  <script src="../_static/version_warning_offset.js"></script>

  </body>
</html>